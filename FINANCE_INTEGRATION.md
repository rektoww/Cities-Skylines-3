# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (–≤–µ—Ç–∫–∞ Finance)

## üéØ –¶–µ–ª—å
–°–≤—è–∑–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≥–æ—Ä–æ–¥–∞ (`FinancialSystem`) —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏–≥—Ä–æ–∫–∞ (`PlayerResources`) –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π (`ConstructionCompany`), —á—Ç–æ–±—ã –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –∑–¥–∞–Ω–∏–π —Å–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –¥–µ–Ω—å–≥–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∞ —Ç–∞–∫–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∫—É–ø–∫—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∑–∞ –¥–µ–Ω—å–≥–∏.

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **ConstructionCompany –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å FinancialSystem**
   - **–§–∞–π–ª**: `Core/Services/ConstructionCompany.cs`
   - **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
     - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–∞ `FinancialSystem`.
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—é–¥–∂–µ—Ç–∞ **–ø–µ—Ä–µ–¥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º** (–∏–∑ `FinancialSystem.CityBudget` –∏–ª–∏ `PlayerResources.Balance`).
     - **–°–ø–∏—Å–∞–Ω–∏–µ –¥–µ–Ω–µ–≥** —á–µ—Ä–µ–∑ `FinancialSystem.AddExpense()` —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π `"Construction: <BuildingType>"`.
     - **–°–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∑–¥–∞–Ω–∏—è (–æ—Ç–∫–∞—Ç –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏).
     - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `PlayerResources.Balance`.

### 2. **Park —Å—Ç–∞–ª —Å—Ç—Ä–æ–∏–º—ã–º (IConstructable<Park>)**
   - **–§–∞–π–ª**: `Core/Models/Buildings/SocialBuildings/Park.cs`
   - **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
     - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IConstructable<Park>`.
     - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:
       - `BuildCost = 1000m`
       - `RequiredMaterials = new()` (–ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å ‚Äî –ø–∞—Ä–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Ç–æ–ª—å–∫–æ –¥–µ–Ω—å–≥–∏).
     - –¢–µ–ø–µ—Ä—å –ø–∞—Ä–∫ –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ `ConstructionCompany.TryBuild<Park>()`.

### 3. **MarketService ‚Äî –ø–æ–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∑–∞ –¥–µ–Ω—å–≥–∏**
   - **–§–∞–π–ª**: `Core/Services/MarketService.cs` *(–Ω–æ–≤—ã–π)*
   - **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
     - –ú–µ—Ç–æ–¥ `TryBuyMaterials()`:
       - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —Ü–µ–Ω.
       - –°–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –∏–∑ `FinancialSystem` (–∫–∞—Ç–µ–≥–æ—Ä–∏—è `"Materials: Purchase"`).
       - –î–æ–±–∞–≤–ª—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ `PlayerResources.StoredMaterials`.
       - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç `PlayerResources.Balance` –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞.

### 4. **EconomyConfig ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫–æ–Ω–æ–º–∏–∫–∏**
   - **–§–∞–π–ª**: `Core/Config/EconomyConfig.cs` *(–Ω–æ–≤—ã–π)*
   - **–°–æ–¥–µ—Ä–∂–∏—Ç**:
     - `MaterialPrices` ‚Äî —Ü–µ–Ω—ã –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (Steel: 120, Concrete: 50, Glass: 80, Plastic: 40).
     - `DefaultCityBudget = 100_000m`.
     - `DefaultStartMaterials` ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (Steel: 10, Concrete: 10, Glass: 10).

### 5. **UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ MainViewModel**
   - **–§–∞–π–ª**: `Laboratornaya3/ViewModels/MainViewModel.cs`
   - **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
     - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
       - `_financialSystem`, `_playerResources`, `_constructionCompany`, `_marketService`.
       - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `EconomyConfig` –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
     - `TryPlaceBuilding()` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω:
       - –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ—Ä–µ–∑ `_constructionCompany.TryBuild<T>()` –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∑–¥–∞–Ω–∏–π (–ü–∞—Ä–∫, –ú–∞–≥–∞–∑–∏–Ω, –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç, –ê–ø—Ç–µ–∫–∞, –ö–∞—Ñ–µ, –†–µ—Å—Ç–æ—Ä–∞–Ω, –ó–∞–ø—Ä–∞–≤–∫–∞).
       - –ü–æ–∫–∞–∑ –±–∞–ª–∞–Ω—Å–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.
     - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã:
       - `ShowResourcesInfoCommand` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –±–∞–ª–∞–Ω—Å –∏–≥—Ä–æ–∫–∞.
       - `ShowFinanceInfoCommand` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –≥–æ—Ä–æ–¥–∞ (–±—é–¥–∂–µ—Ç, –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã).

### 6. **–ö–Ω–æ–ø–∫–∏ –≤ UI (MainWindow.xaml)**
   - **–§–∞–π–ª**: `Laboratornaya3/Views/MainWindow.xaml`
   - **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏** –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏:
     - **"üíµ –§–∏–Ω–∞–Ω—Å—ã"** ‚Üí `ShowFinanceInfoCommand`
     - **"üì¶ –†–µ—Å—É—Ä—Å—ã"** ‚Üí `ShowResourcesInfoCommand`

---

## üì¶ –ù–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `Core/Services/ConstructionCompany.cs` | ‚úèÔ∏è –ò–∑–º–µ–Ω–µ–Ω | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `FinancialSystem`, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—é–¥–∂–µ—Ç–∞ –∏ —Ä–∞—Å—Ö–æ–¥ |
| `Core/Services/MarketService.cs` | ‚ûï –°–æ–∑–¥–∞–Ω | –°–µ—Ä–≤–∏—Å –ø–æ–∫—É–ø–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∑–∞ –¥–µ–Ω—å–≥–∏ |
| `Core/Models/Buildings/SocialBuildings/Park.cs` | ‚úèÔ∏è –ò–∑–º–µ–Ω–µ–Ω | –†–µ–∞–ª–∏–∑—É–µ—Ç `IConstructable<Park>` |
| `Core/Config/EconomyConfig.cs` | ‚ûï –°–æ–∑–¥–∞–Ω | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç–∫–æ–Ω–æ–º–∏–∫–∏ (—Ü–µ–Ω—ã, —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã) |
| `Laboratornaya3/ViewModels/MainViewModel.cs` | ‚úèÔ∏è –ò–∑–º–µ–Ω–µ–Ω | –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ—Ä–µ–∑ `ConstructionCompany`, –ø–æ–∫–∞–∑ —Ä–µ—Å—É—Ä—Å–æ–≤/—Ñ–∏–Ω–∞–Ω—Å–æ–≤ |
| `Laboratornaya3/Views/MainWindow.xaml` | ‚úèÔ∏è –ò–∑–º–µ–Ω–µ–Ω | –ö–Ω–æ–ø–∫–∏ "–§–∏–Ω–∞–Ω—Å—ã" –∏ "–†–µ—Å—É—Ä—Å—ã" –≤ UI |

---

## üéÆ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–≥—Ä–µ

### –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∑–¥–∞–Ω–∏—è
1. –ò–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –∑–¥–∞–Ω–∏–µ –≤ –º–µ–Ω—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, **–ü–∞—Ä–∫**).
2. –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ.
3. `ConstructionCompany.TryBuild<Park>()`:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–¥–ª—è –ø–∞—Ä–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±—é–¥–∂–µ—Ç (‚â• 1000).
   - –ü—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ (`TryPlace()`).
   - –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ:
     - –°–ø–∏—Å—ã–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏—Å—å).
     - –°–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –∏–∑ `FinancialSystem` (–∫–∞—Ç–µ–≥–æ—Ä–∏—è "Construction: Park").
     - –û–±–Ω–æ–≤–ª—è–µ—Ç `PlayerResources.Balance`.
4. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ** —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º/–±—é–¥–∂–µ—Ç–æ–º.

### –ü–æ–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ UI)
```csharp
var market = new MarketService();
bool success = market.TryBuyMaterials(
    quantities: new Dictionary<ConstructionMaterial, int> {
        { ConstructionMaterial.Steel, 5 }
    },
    prices: EconomyConfig.MaterialPrices,
    finance: _financialSystem,
    playerResources: _playerResources
);
// success == true ‚Üí —Å–ø–∏—Å–∞–Ω–æ 5√ó120 = 600 –≤–∞–ª—é—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–æ 5 Steel –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤/—Ñ–∏–Ω–∞–Ω—Å–æ–≤
- –ö–Ω–æ–ø–∫–∞ **"üì¶ –†–µ—Å—É—Ä—Å—ã"** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (Steel: X, Concrete: Y, Glass: Z).
  - –ë–∞–ª–∞–Ω—Å –∏–≥—Ä–æ–∫–∞.
- –ö–Ω–æ–ø–∫–∞ **"üíµ –§–∏–Ω–∞–Ω—Å—ã"** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –ë—é–¥–∂–µ—Ç –≥–æ—Ä–æ–¥–∞.
  - –î–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã –∑–∞ –ø–µ—Ä–∏–æ–¥.
  - –ß–∏—Å—Ç—ã–π –±–∞–ª–∞–Ω—Å.
  - –†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≤ —Ç–æ–º —á–∏—Å–ª–µ "Construction: Park").

---

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MainViewModel  ‚îÇ ‚Üê UI —É—Ä–æ–≤–µ–Ω—å
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                              ‚îÇ
         v                              v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ConstructionCompany ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ PlayerResources‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                          ‚îÇ
           ‚îÇ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç/—Å–ø–∏—Å—ã–≤–∞–µ—Ç      ‚îÇ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
           ‚îÇ –¥–µ–Ω—å–≥–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã       ‚îÇ + Balance (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
           ‚îÇ                          ‚îÇ
           v                          ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
    ‚îÇ FinancialSystem  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ —É—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤/–¥–æ—Ö–æ–¥–æ–≤
           ‚îÇ –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
           v
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ MarketService    ‚îÇ ‚Üê –ø–æ–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **FinancialSystem** ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –±—é–¥–∂–µ—Ç–∞ (–≤ –±—É–¥—É—â–µ–º —É–±—Ä–∞—Ç—å `PlayerResources.Balance`).
- **ConstructionCompany** ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ).
- **MarketService** ‚Äî —Ç–æ—Ä–≥–æ–≤–ª—è —Ä–µ—Å—É—Ä—Å–∞–º–∏.
- **EconomyConfig** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ü–µ–Ω/—Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ (TODO)

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] **–£–±—Ä–∞—Ç—å `PlayerResources.Balance`** (–¥—É–±–ª–∏—Ä—É–µ—Ç `FinancialSystem.CityBudget`).
- [ ] **UI –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**:
  - –ú–µ–Ω—é "–ú–∞–≥–∞–∑–∏–Ω –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤".
  - –ö–Ω–æ–ø–∫–∏ "+/-" –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `MarketService.TryBuyMaterials()`.
- [ ] **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∑–¥–∞–Ω–∏—è**:
  - –¢—É–ª—Ç–∏–ø —Å `BuildCost` –∏ `RequiredMaterials` –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º.
- [ ] **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  - –ó–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–∏—Ç—Å—è N –∏–≥—Ä–æ–≤—ã—Ö –¥–Ω–µ–π.
  - –í–æ –≤—Ä–µ–º—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ ‚Äî "—Å—Ç—Ä–æ–π–∫–∞" –≤–º–µ—Å—Ç–æ –≥–æ—Ç–æ–≤–æ–≥–æ –∑–¥–∞–Ω–∏—è.

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] **–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**:
  - –§–∞–±—Ä–∏–∫–∏/–∑–∞–≤–æ–¥—ã –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Üí –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –≤ `PlayerResources.StoredMaterials`.
- [ ] **–î–æ—Ö–æ–¥—ã –æ—Ç –∑–¥–∞–Ω–∏–π**:
  - –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –∑–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –¥–æ—Ö–æ–¥ ‚Üí `FinancialSystem.AddIncome()`.
- [ ] **–ù–∞–ª–æ–≥–∏ –∏ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
  - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã, —Ä–µ–º–æ–Ω—Ç.
- [ ] **–ö—Ä–µ–¥–∏—Ç—ã/–∑–∞–π–º—ã** (–ø—Ä–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ).
- [ ] **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã.

---

## üìä –ë–∞–ª–∞–Ω—Å —Ç–µ–∫—É—â–µ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏

### –°—Ç–∞—Ä—Ç–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è
- –ë—é–¥–∂–µ—Ç: **100 000 –≤–∞–ª—é—Ç—ã**
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã:
  - Steel: 10 —à—Ç.
  - Concrete: 10 —à—Ç.
  - Glass: 10 —à—Ç.

### –¶–µ–Ω—ã
| –ú–∞—Ç–µ—Ä–∏–∞–ª | –¶–µ–Ω–∞ –∑–∞ —à—Ç. |
|----------|-------------|
| Steel    | 120         |
| Concrete | 50          |
| Glass    | 80          |
| Plastic  | 40          |

### –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–¥–∞–Ω–∏–π (–ø—Ä–∏–º–µ—Ä—ã)
| –ó–¥–∞–Ω–∏–µ       | –¶–µ–Ω–∞   | –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (Steel/Concrete/Glass) |
|--------------|--------|----------------------------------|
| –ü–∞—Ä–∫         | 1 000  | 0/0/0                            |
| –ú–∞–≥–∞–∑–∏–Ω      | 50 000 | 2/3/2                            |
| –ê–ø—Ç–µ–∫–∞       | 70 000 | 2/3/2                            |
| –ö–∞—Ñ–µ         | 80 000 | 2/3/3                            |
| –ó–∞–ø—Ä–∞–≤–∫–∞     | 100 000| 1/3/3                            |
| –†–µ—Å—Ç–æ—Ä–∞–Ω     | 150 000| 3/4/3                            |
| –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç  | 200 000| 6/9/6                            |

### –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞—Ç—ã
- –ü–æ—Å—Ç–∞–≤–∏—Ç—å **–ü–∞—Ä–∫**: -1000 –≤–∞–ª—é—Ç—ã ‚Üí –æ—Å—Ç–∞–ª–æ—Å—å **99 000**.
- –ö—É–ø–∏—Ç—å **5 Steel**: -600 –≤–∞–ª—é—Ç—ã ‚Üí –æ—Å—Ç–∞–ª–æ—Å—å **98 400** / +5 Steel.
- –ü–æ—Å—Ç–∞–≤–∏—Ç—å **–ú–∞–≥–∞–∑–∏–Ω**: -50 000 –≤–∞–ª—é—Ç—ã, -2 Steel, -3 Concrete, -2 Glass ‚Üí –æ—Å—Ç–∞–ª–æ—Å—å **48 400** / Steel: 13, Concrete: 7, Glass: 8.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ UI
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
2. –ö–ª–∏–∫–Ω—É—Ç—å **"üì¶ –†–µ—Å—É—Ä—Å—ã"** ‚Üí —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –±–∞–ª–∞–Ω—Å.
3. –í—ã–±—Ä–∞—Ç—å **–ü–∞—Ä–∫** ‚Üí –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ.
4. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ —Å –Ω–æ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º (99 000).
5. –ö–ª–∏–∫–Ω—É—Ç—å **"üíµ –§–∏–Ω–∞–Ω—Å—ã"** ‚Üí —É–≤–∏–¥–µ—Ç—å —Ä–∞—Å—Ö–æ–¥ "Construction: Park" = 1000.
6. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ—Å—Ç—Ä–æ–∏—Ç—å **–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç** (200 000) ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ "–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—é–¥–∂–µ—Ç–∞".

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –≤ `Tests/UnitTests/ConstructionTests.cs` –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (ConstructionCompany –±–µ–∑ FinancialSystem).
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ:
  - `TryBuild_WithFinancialSystem_Should_RecordExpense()`
  - `TryBuild_WithInsufficientBudget_Should_Fail()`
  - `TryBuyMaterials_Should_UpdateInventory()`

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—Ç–∞—Ä—ã–π –∫–æ–¥ (—Ç–µ—Å—Ç—ã) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî `ConstructionCompany` –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ–∑ `FinancialSystem`.
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: `PlayerResources.Balance` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å `FinancialSystem.CityBudget` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞.
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–¥–∞–Ω–∏—è ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `IConstructable<T>` –∏ –¥–æ–±–∞–≤–∏—Ç—å case –≤ `TryPlaceBuilding()`.

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –∑–¥–∞–Ω–∏–π –≤ UI:
- ‚úÖ –°–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–µ–Ω—å–≥–∏ –∏–∑ –±—é–¥–∂–µ—Ç–∞.
- ‚úÖ –°–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.
- ‚úÖ –í–µ–¥–µ—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å (–∫–∞—Ç–µ–≥–æ—Ä–∏—è "Construction").
- ‚úÖ –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç.
- ‚úÖ –ü–∞—Ä–∫ –∏ 6 –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∑–¥–∞–Ω–∏–π —Å—Ç—Ä–æ—è—Ç—Å—è —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É.

–ì–æ—Ç–æ–≤–æ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ—Å—É—Ä—Å–æ–≤, —Ç–æ—Ä–≥–æ–≤–ª–∏, –¥–æ—Ö–æ–¥–æ–≤ –æ—Ç –∑–¥–∞–Ω–∏–π! üöÄ
