# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –î–æ–±—ã—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂–∞ (–≤–µ—Ç–∫–∞ Finance)

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. **ResourceProductionService** ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∏ –ø—Ä–æ–¥–∞–∂–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
   - **–§–∞–π–ª**: `Core/Services/ResourceProductionService.cs`
   - **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
     - `SimulateMineProduction()` ‚Äî —à–∞—Ö—Ç–∞ –¥–æ–±—ã–≤–∞–µ—Ç 5 –µ–¥–∏–Ω–∏—Ü —Å–ª—É—á–∞–π–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (Steel –∏–ª–∏ Concrete)
     - `TrySellMaterials()` ‚Äî –ø—Ä–æ–¥–∞–∂–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø–æ —Ü–µ–Ω–µ
     - `TrySellAllMaterials()` ‚Äî –ø—Ä–æ–¥–∞–∂–∞ –≤—Å–µ—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞
   - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
     - –î–µ–Ω—å–≥–∏ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `FinancialSystem.AddIncome()` —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π "Sale: <Material> x<Qty>"
     - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `PlayerResources.Balance`

### 2. **–î–≤–µ –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ UI**
   - **‚õèÔ∏è –®–∞—Ö—Ç–∞** ‚Äî –¥–æ–±—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã (—Ç–µ—Å—Ç)
   - **üí∞ –ü—Ä–æ–¥–∞—Ç—å** ‚Äî –ø—Ä–æ–¥–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ 70% –æ—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏

---

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–æ–±—ã—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
1. –ù–∞–∂–∞—Ç—å **‚õèÔ∏è –®–∞—Ö—Ç–∞**
2. –®–∞—Ö—Ç–∞ –¥–æ–±—ã–≤–∞–µ—Ç **5 –µ–¥–∏–Ω–∏—Ü** —Å–ª—É—á–∞–π–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (Steel –∏–ª–∏ Concrete)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: –∫–Ω–æ–ø–∫–∞ **üì¶ –†–µ—Å—É—Ä—Å—ã**

### –ü—Ä–æ–¥–∞–∂–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
1. –ù–∞–∫–æ–ø–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã —á–µ—Ä–µ–∑ —à–∞—Ö—Ç—É (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞–∂–∞—Ç—å **‚õèÔ∏è –®–∞—Ö—Ç–∞**)
2. –ù–∞–∂–∞—Ç—å **üí∞ –ü—Ä–æ–¥–∞—Ç—å**
3. –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø—Ä–æ–¥–∞—é—Ç—Å—è –ø–æ —Ü–µ–Ω–µ:
   - **Steel**: 120 √ó 0.7 = **84 –≤–∞–ª—é—Ç—ã/—à—Ç.**
   - **Concrete**: 50 √ó 0.7 = **35 –≤–∞–ª—é—Ç—ã/—à—Ç.**
   - **Glass**: 80 √ó 0.7 = **56 –≤–∞–ª—é—Ç—ã/—à—Ç.**
4. –î–µ–Ω—å–≥–∏ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –≤ –±—é–¥–∂–µ—Ç (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É **üíµ**)
5. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –∫–∞–∫ –¥–æ—Ö–æ–¥ –æ—Ç –ø—Ä–æ–¥–∞–∂–∏

---

## üìä –ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è

### –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–ë—é–¥–∂–µ—Ç**: 100 000 –≤–∞–ª—é—Ç—ã
- **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã**: Steel: 10, Concrete: 10, Glass: 10

### –®–∞–≥ 1: –î–æ–±—ã—á–∞
–ù–∞–∂–∞—Ç—å **‚õèÔ∏è –®–∞—Ö—Ç–∞** 5 —Ä–∞–∑:
- –î–æ–±—ã—Ç–æ ~25 –µ–¥–∏–Ω–∏—Ü –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (5 √ó 5)
- –ù–∞–ø—Ä–∏–º–µ—Ä: Steel: 25, Concrete: 10
- **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å**: Steel: 35, Concrete: 20, Glass: 10

### –®–∞–≥ 2: –ü—Ä–æ–¥–∞–∂–∞
–ù–∞–∂–∞—Ç—å **üí∞ –ü—Ä–æ–¥–∞—Ç—å**:
- Steel: 35 √ó 84 = **2940 –≤–∞–ª—é—Ç—ã**
- Concrete: 20 √ó 35 = **700 –≤–∞–ª—é—Ç—ã**
- Glass: 10 √ó 56 = **560 –≤–∞–ª—é—Ç—ã**
- **–ò—Ç–æ–≥–æ**: +4200 –≤–∞–ª—é—Ç—ã
- **–ù–æ–≤—ã–π –±—é–¥–∂–µ—Ç**: 104 200 –≤–∞–ª—é—Ç—ã

### –®–∞–≥ 3: –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
–ü–æ—Å—Ç—Ä–æ–∏—Ç—å **–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç** (200 000 –≤–∞–ª—é—Ç—ã):
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ ‚Üí –æ—à–∏–±–∫–∞
- –ü–æ—Å—Ç—Ä–æ–∏—Ç—å **–ú–∞–≥–∞–∑–∏–Ω** (50 000 –≤–∞–ª—é—Ç—ã):
  - –ù—É–∂–Ω–æ: 2 Steel, 3 Concrete, 2 Glass
  - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–≤—Å–µ –ø—Ä–æ–¥–∞–ª–∏!)
  - –†–µ—à–µ–Ω–∏–µ: –µ—â–µ —Ä–∞–∑ –¥–æ–±—ã—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã

---

## üîÑ –¶–∏–∫–ª –∏–≥—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚õèÔ∏è –î–æ–±—ã—á–∞      ‚îÇ ‚Üí +5 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å    ‚îÇ ‚Üí –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ         ‚îÇ
    v         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇüí∞ –ü—Ä–æ–¥–∞–∂–∞‚îÇ ‚îÇüèóÔ∏è–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ            ‚îÇ
     v            v
  +–î–µ–Ω—å–≥–∏      -–î–µ–Ω—å–≥–∏
               -–ú–∞—Ç–µ—Ä–∏–∞–ª—ã
```

---

## üí° –°–æ–≤–µ—Ç—ã

### –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
1. **–î–æ–±—ã–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã** —Ä–µ–≥—É–ª—è—Ä–Ω–æ (—à–∞—Ö—Ç–∞)
2. **–ü—Ä–æ–¥–∞–≤–∞—Ç—å –∏–∑–ª–∏—à–∫–∏** ‚Äî –æ—Å—Ç–∞–≤–ª—è—Ç—å 20-30 –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
3. **–°—Ç—Ä–æ–∏—Ç—å –∑–¥–∞–Ω–∏—è** –∫–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
4. **–°–ª–µ–¥–∏—Ç—å –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º** —á–µ—Ä–µ–∑ **üíµ** (–∫–ª–∏–∫ –¥–ª—è –æ—Ç—á–µ—Ç–∞)

### –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç
- **1 –ú–∞–≥–∞–∑–∏–Ω** —Å—Ç–æ–∏—Ç 50 000 + –º–∞—Ç–µ—Ä–∏–∞–ª—ã (2 Steel, 3 Concrete, 2 Glass)
- **–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**: ~560 –≤–∞–ª—é—Ç—ã (–ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ)
- **–ò—Ç–æ–≥–æ**: ~50 560 –≤–∞–ª—é—Ç—ã
- **–û–∫—É–ø–∞–µ–º–æ—Å—Ç—å**: –µ—Å–ª–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω, –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –¥–æ—Ö–æ–¥ (–≤ –±—É–¥—É—â–µ–º)

---

## üéâ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –î–æ–±—ã—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–Ω–æ–ø–∫–∞ **‚õèÔ∏è –®–∞—Ö—Ç–∞** –¥–æ–±—ã–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ `PlayerResources.StoredMaterials`
- –í–∏–¥–Ω–æ –≤ –∫–Ω–æ–ø–∫–µ **üì¶ –†–µ—Å—É—Ä—Å—ã**

### ‚úÖ –ü—Ä–æ–¥–∞–∂–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–Ω–æ–ø–∫–∞ **üí∞ –ü—Ä–æ–¥–∞—Ç—å** –ø—Ä–æ–¥–∞–µ—Ç –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- –î–µ–Ω—å–≥–∏ –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –≤ `FinancialSystem` (–∫–∞—Ç–µ–≥–æ—Ä–∏—è "Sale")
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±—é–¥–∂–µ—Ç —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É **üíµ**
- –í–∏–¥–Ω–æ –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º –æ—Ç—á–µ—Ç–µ (–∫–ª–∏–∫ –ø–æ **üíµ**)

### ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Ö–æ–¥—ã
- –î–æ—Ö–æ–¥—ã –æ—Ç –ø—Ä–æ–¥–∞–∂–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –†–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
- –ß–∏—Å—Ç—ã–π –±–∞–ª–∞–Ω—Å –∑–∞ –ø–µ—Ä–∏–æ–¥

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–±—ã—á–∞**: —à–∞—Ö—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–≤–æ–π –¥–µ–Ω—å
- [ ] **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —à–∞—Ö—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ**: –ø–æ–∫–∞–∑–∞—Ç—å –∑–¥–∞–Ω–∏–µ "–®–∞—Ö—Ç–∞"
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–æ–±—ã—á–∏**: —Ä–∞–∑–Ω—ã–µ —à–∞—Ö—Ç—ã –¥–æ–±—ã–≤–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É
- [ ] **–ö–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã"**: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è `MarketService`

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
- [ ] **–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —à–∞—Ö—Ç**: –∂–µ–ª–µ–∑–Ω–∞—è —Ä—É–¥–∞, —É–≥–æ–ª—å, –Ω–µ—Ñ—Ç—å
- [ ] **–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏**: —Ä—É–¥–∞ ‚Üí —Å—Ç–∞–ª—å ‚Üí –∑–¥–∞–Ω–∏—è
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥–∞–∂–∞ –∏–∑–ª–∏—à–∫–æ–≤**: –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- [ ] **–¢–æ—Ä–≥–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**: —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¶–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ (70% –æ—Ç –∑–∞–∫—É–ø–æ—á–Ω–æ–π)
| –ú–∞—Ç–µ—Ä–∏–∞–ª | –ó–∞–∫—É–ø–∫–∞ | –ü—Ä–æ–¥–∞–∂–∞ (70%) |
|----------|---------|---------------|
| Steel    | 120     | 84            |
| Concrete | 50      | 35            |
| Glass    | 80      | 56            |
| Plastic  | 40      | 28            |

### –ö–æ–¥ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏
```csharp
// –ü—Ä–æ–¥–∞—Ç—å 10 Steel –ø–æ —Ü–µ–Ω–µ 84/—à—Ç
_productionService.TrySellMaterials(ConstructionMaterial.Steel, 10, 84m);

// –ü—Ä–æ–¥–∞—Ç—å –≤—Å–µ Concrete
_productionService.TrySellAllMaterials(ConstructionMaterial.Concrete, 35m);
```

### –ö–æ–¥ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
```csharp
// –û–¥–∏–Ω —Ç–∏–∫ —à–∞—Ö—Ç—ã
_productionService.SimulateMineProduction();
// ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–æ 5 Steel –∏–ª–∏ 5 Concrete —Å–ª—É—á–∞–π–Ω–æ
```

---

–ì–æ—Ç–æ–≤–æ! üéâ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∏—Ö –∏ —Å—Ç—Ä–æ–∏—Ç—å –∑–¥–∞–Ω–∏—è!
